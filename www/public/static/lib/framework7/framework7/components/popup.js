(function framework7ComponentLoader(o,p){void 0===p&&(p=!0);document,window;var a=o.$,e=(o.Template7,o.utils),r=(o.device,o.support,o.Class,o.Modal),c=(o.ConstructorMethods,o.ModalMethods),n=function(o){function p(p,r){var c=e.extend({on:{}},p.params.popup,r);o.call(this,p,c);var n,t,s=this;if(s.params=c,(n=s.params.el?a(s.params.el):a(s.params.content))&&n.length>0&&n[0].f7Modal)return n[0].f7Modal;if(0===n.length)return s.destroy();function d(o){var e=o.target,r=a(e);if(!(!p.device.desktop&&p.device.cordova&&(window.Keyboard&&window.Keyboard.isVisible||window.cordova.plugins&&window.cordova.plugins.Keyboard&&window.cordova.plugins.Keyboard.isVisible))&&0===r.closest(s.el).length&&s.params&&s.params.closeByBackdropClick&&s.params.backdrop&&s.backdropEl&&s.backdropEl===e){var c=!0;s.$el.nextAll(".popup.modal-in").each(function(o,p){var a=p.f7Modal;a&&a.params.closeByBackdropClick&&a.params.backdrop&&a.backdropEl===s.backdropEl&&(c=!1)}),c&&s.close()}}function l(o){27===o.keyCode&&s.params.closeOnEscape&&s.close()}return s.params.backdrop&&s.params.backdropEl?t=a(s.params.backdropEl):s.params.backdrop&&0===(t=p.root.children(".popup-backdrop")).length&&(t=a('<div class="popup-backdrop"></div>'),p.root.append(t)),e.extend(s,{app:p,$el:n,el:n[0],$backdropEl:t,backdropEl:t&&t[0],type:"popup"}),s.params.closeOnEscape&&(s.on("popupOpen",function(){a(document).on("keydown",l)}),s.on("popupClose",function(){a(document).off("keydown",l)})),s.on("popupOpened",function(){s.params.closeByBackdropClick&&p.on("click",d)}),s.on("popupClose",function(){s.params.closeByBackdropClick&&p.off("click",d)}),n[0].f7Modal=s,s}return o&&(p.__proto__=o),p.prototype=Object.create(o&&o.prototype),p.prototype.constructor=p,p}(r),t={name:"popup",params:{popup:{backdrop:!0,backdropEl:void 0,closeByBackdropClick:!0,closeOnEscape:!1}},static:{Popup:n},create:function(){this.popup=c({app:this,constructor:n,defaultSelector:".popup.modal-in"})},clicks:{".popup-open":function(o,p){void 0===p&&(p={});this.popup.open(p.popup,p.animate)},".popup-close":function(o,p){void 0===p&&(p={});this.popup.close(p.popup,p.animate)}}};if(p){if(o.prototype.modules&&o.prototype.modules[t.name])return;o.use(t),o.instance&&(o.instance.useModuleParams(t,o.instance.params),o.instance.useModule(t))}return t}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
