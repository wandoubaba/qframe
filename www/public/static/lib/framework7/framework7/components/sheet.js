(function framework7ComponentLoader(e,o){void 0===o&&(o=!0);document,window;var s=e.$,a=(e.Template7,e.utils),t=(e.device,e.support,e.Class,e.Modal),c=(e.ConstructorMethods,e.ModalMethods),r=function(e){function o(o,t){var c=a.extend({on:{}},o.params.sheet,t);e.call(this,o,c);var r,n,l,p=this;if(p.params=c,void 0===p.params.backdrop&&(p.params.backdrop="ios"!==o.theme),(r=p.params.el?s(p.params.el):s(p.params.content))&&r.length>0&&r[0].f7Modal)return r[0].f7Modal;if(0===r.length)return p.destroy();function d(e){var a=e.target,t=s(a);!o.device.desktop&&o.device.cordova&&(window.Keyboard&&window.Keyboard.isVisible||window.cordova.plugins&&window.cordova.plugins.Keyboard&&window.cordova.plugins.Keyboard.isVisible)||0===t.closest(p.el).length&&(p.params.closeByBackdropClick&&p.params.backdrop&&p.backdropEl&&p.backdropEl===a?p.close():p.params.closeByOutsideClick&&p.close())}function i(e){27===e.keyCode&&p.params.closeOnEscape&&p.close()}return p.params.backdrop&&p.params.backdropEl?n=s(p.params.backdropEl):p.params.backdrop&&0===(n=o.root.children(".sheet-backdrop")).length&&(n=s('<div class="sheet-backdrop"></div>'),o.root.append(n)),p.on("sheetOpen",function(){p.params.closeOnEscape&&s(document).on("keydown",i),p.params.scrollToEl&&function(){var e=s(p.params.scrollToEl).eq(0);if(0!==e.length&&0!==(l=e.parents(".page-content")).length){var o,a=parseInt(l.css("padding-top"),10),t=parseInt(l.css("padding-bottom"),10),c=l[0].offsetHeight-a-r.height(),n=l[0].scrollHeight-a-r.height(),d=l.scrollTop(),i=e.offset().top-a+e[0].offsetHeight;if(i>c){var h=d+i-c;h+c>n&&(o=h+c-n+t,c===n&&(o=r.height()),l.css({"padding-bottom":o+"px"})),l.scrollTop(h,300)}}}()}),p.on("sheetOpened",function(){(p.params.closeByOutsideClick||p.params.closeByBackdropClick)&&o.on("click",d)}),p.on("sheetClose",function(){p.params.closeOnEscape&&s(document).off("keydown",i),p.params.scrollToEl&&l&&l.length>0&&l.css({"padding-bottom":""}),(p.params.closeByOutsideClick||p.params.closeByBackdropClick)&&o.off("click",d)}),a.extend(p,{app:o,$el:r,el:r[0],$backdropEl:n,backdropEl:n&&n[0],type:"sheet"}),r[0].f7Modal=p,p}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o}(t),n={name:"sheet",params:{sheet:{backdrop:void 0,backdropEl:void 0,closeByBackdropClick:!0,closeByOutsideClick:!1,closeOnEscape:!1}},static:{Sheet:r},create:function(){this.sheet=a.extend({},c({app:this,constructor:r,defaultSelector:".sheet-modal.modal-in"}))},clicks:{".sheet-open":function(e,o){void 0===o&&(o={});s(".sheet-modal.modal-in").length>0&&o.sheet&&s(o.sheet)[0]!==s(".sheet-modal.modal-in")[0]&&this.sheet.close(".sheet-modal.modal-in"),this.sheet.open(o.sheet,o.animate)},".sheet-close":function(e,o){void 0===o&&(o={});this.sheet.close(o.sheet,o.animate)}}};if(o){if(e.prototype.modules&&e.prototype.modules[n.name])return;e.use(n),e.instance&&(e.instance.useModuleParams(n,e.instance.params),e.instance.useModule(n))}return n}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
